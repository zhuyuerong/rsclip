# 📚 Experiment 4 项目导航

**快速导航**：找到您需要的实验和文档

---

## 🎯 我想了解...

### "Surgery到底有没有运行？"

👉 **[实验01：Surgery验证](01_baseline_heatmap/README.md)**

**答案**：❌ 热图生成中从未执行Surgery去冗余

**证据**：
- Wrapper输出 = RemoteCLIP原始（差异0.0）
- SimplifiedDenoiser只在训练时使用
- 热图和训练使用了不同特征

---

### "Surgery的真实影响是什么？"

👉 **[实验01：Surgery验证 - A2部分](01_baseline_heatmap/README.md#a2surgery对map的影响-)**

**答案**：
- 单独使用：mAP **-19%**（抑制GT）
- 结合反转：mAP **+31%**（最优组合）
- **Surgery+反转+30% = mAP@0.05 0.5000**

---

### "为什么热图颜色反转？"

👉 **[实验03：特征诊断 - 实验3.1](03_feature_diagnosis/README.md)**

**答案**：
- 60%样本GT相似度低于背景
- GT平均0.17 vs 背景0.20（-15%）
- 75%阈值=0.22，排除所有GT

---

### "如何修复热图？"

👉 **[实验02：阈值修复](02_threshold_fix/README.md)**

**答案**：
- 降低阈值到30%（+37%）
- 使用反转热图（+9-62%）
- **组合：Surgery+反转+30% → mAP 0.50**

---

### "Surgery为什么抑制GT？"

👉 **[🔑关键发现汇总.md - Surgery的本质](🔑关键发现汇总.md#surgery的本质深度理解)**

**答案**：
- Surgery = F - mean(F)（中心化）
- 如果GT是"公共特征"，会被削弱为负值
- 背景如果"独特"，反而被增强
- **反转修正这个问题**

---

### "最佳配置是什么？"

👉 **[实验索引 - 性能汇总](README.md#-性能汇总)**

**答案**：

| 场景 | 配置 | mAP@0.05 | mAP@0.50 |
|------|------|----------|----------|
| **检测** | Surgery+反转+30% | **0.5000** | 0.1667 |
| **验证** | RemoteCLIP+30% | 0.3818 | 0.1667 |

---

## 📁 文档索引

### 核心文档（必读）

1. **[✅实验完成总报告.md](✅实验完成总报告.md)** - 最终总报告
2. **[🔑关键发现汇总.md](🔑关键发现汇总.md)** - 修正版结论
3. **[README.md](README.md)** - 实验索引

### 实验文档（详细）

4. **[实验01/README.md](01_baseline_heatmap/README.md)** - Surgery验证
5. **[实验02/README.md](02_threshold_fix/README.md)** - 阈值修复
6. **[实验03/README.md](03_feature_diagnosis/README.md)** - 特征诊断

### 历史文档（参考）

7. **[🎯热图修复实验_最终报告.md](🎯热图修复实验_最终报告.md)** - 阈值修复详细报告
8. **[一句话总结.txt](一句话总结.txt)** - 简版总结

---

## 🔍 快速查找

### 按实验编号

- **实验01**：Surgery验证 → `01_baseline_heatmap/`
- **实验02**：阈值修复 → `02_threshold_fix/`
- **实验03**：特征诊断 → `03_feature_diagnosis/`

### 按文件类型

- **README文档**：每个实验目录下
- **实验脚本**：各实验目录下的`.py`文件
- **数据结果**：各实验的`results/`或`outputs/`目录
- **可视化图**：各实验的`figures/`目录

### 按主题

- **Surgery相关**：实验01, 实验03
- **阈值相关**：实验02
- **性能对比**：所有实验的README
- **配置推荐**：✅实验完成总报告.md

---

## 📊 数据文件索引

### JSON结果文件

```
01_baseline_heatmap/results/
└── surgery_verification.json        # Surgery执行检查 + mAP对比

02_threshold_fix/outputs/
├── threshold_fix_comparison.json    # 3种阈值方法对比
└── low_threshold_results.json       # 6种配置测试

03_feature_diagnosis/outputs/
├── patch_grid_analysis.json         # 5个样本Grid数据
└── surgery_impact_analysis.json     # Surgery前后对比
```

### 可视化文件

```
02_threshold_fix/outputs/
├── comparison_*.png (3张反转对比)
├── v1-normalized/ (10张)
├── v2-raw-percentile/ (10张)
└── v2-topk/ (10张)

01_baseline_heatmap/figures/
└── (Surgery对比可视化，可选生成)
```

---

## 🚀 下一步推荐

### 立即可做

1. 阅读 **[✅实验完成总报告.md](✅实验完成总报告.md)**
2. 查看可视化图验证修复效果
3. 应用最佳配置到DIOR全集

### 中期目标

1. 修改主评估脚本使用Surgery+反转+30%
2. 训练模型提升GT相似度
3. 在DIOR全集验证性能

---

**更新时间**：2025-10-29 16:00  
**维护者**：RemoteCLIP Experiment 4 Team
