Experiment 3: Text-Guided Heatmaps - COMPLETE SUMMARY
======================================================

ALL GENERATED OUTPUTS (3 types)
================================

1. Multi-Class Heatmaps (per image, multiple text queries)
   üìÅ multi_class_results/ (6 files, 23MB)
   - multi_class_DIOR_03135.png (5.8MB, 2 classes √ó 13 columns)
   - multi_class_DIOR_05386.png (6.3MB, 2 classes √ó 13 columns) ‚≠ê
   - multi_class_DIOR_09041.png (1.6MB, 1 class √ó 13 columns)
   - multi_class_DIOR_09115.png (1.6MB, 1 class √ó 13 columns)
   - multi_class_DIOR_09375.png (1.4MB, 1 class √ó 13 columns)
   - multi_class_DIOR_09601.png (5.7MB, 2 classes √ó 13 columns)
   
   ‚≠ê DIOR_05386 Example:
   Row 1: "an aerial photo of overpass" ‚Üí overpass boxes green
   Row 2: "an aerial photo of vehicle" ‚Üí vehicle boxes green

2. 5-Mode Comprehensive Comparison (cross-mode comparison)
   üìÅ comprehensive_comparison_results/ (5 files, 71MB)
   - comprehensive_comparison_sample0-4.png (14-15MB each)
   - Layout: 5 modes √ó 13 columns
   - Modes: With Surgery, Without Surgery, With VV, Standard QKV, Complete

3. GT Box Debug Visualizations
   üìÅ gt_box_debug/ (5 files, 2.2MB)
   - debug_sample0-4_DIOR_*.png
   - Shows: Image + coordinate info text

TOTAL: 16 files, 96.2MB

KEY DIFFERENCES
===============

Multi-Class vs Comprehensive:
-----------------------------
Multi-Class (multi_class_*.png):
- Same image, different text queries
- Each row = different text input
- Shows how text changes heatmap
- Green = query class, Yellow = other classes

Comprehensive (comprehensive_comparison_*.png):
- Same text query, different modes
- Each row = different model mode
- Shows how Surgery changes heatmap
- All GT boxes same color (mode comparison)

EXAMPLE VISUALIZATIONS
======================

DIOR_05386 (overpass + 3 vehicles):

In multi_class_DIOR_05386.png:
Row 1: Query "overpass"
  - Heat focuses on bridge structure
  - Green box: overpass (1)
  - Yellow boxes: vehicles (3)

Row 2: Query "vehicle"
  - Heat focuses on car regions
  - Green boxes: vehicles (3)
  - Yellow box: overpass (1)

In comprehensive_comparison_sample1.png:
All 5 rows use same query: "overpass"
Row 1-5: Different modes (With/Without Surgery, etc.)
All show: overpass box (green) + vehicle boxes (yellow)

RUNNING COMMANDS
================

# Multi-class heatmaps (different text queries)
PYTHONPATH=. ovadetr_env/bin/python3.9 \
  exp3_text_guided_vvt/multi_class_heatmap.py \
  --dataset datasets/mini_dataset --max-samples 5 \
  --layers 1 2 3 4 5 6 7 8 9 10 11 12

# Comprehensive comparison (different modes)
PYTHONPATH=. ovadetr_env/bin/python3.9 \
  exp3_text_guided_vvt/comprehensive_comparison.py \
  --dataset datasets/mini_dataset --max-samples 5

# GT box debugging
PYTHONPATH=. ovadetr_env/bin/python3.9 \
  exp3_text_guided_vvt/debug_gt_boxes.py \
  --dataset datasets/mini_dataset --num-samples 5

CODE FILES
==========
- multi_class_heatmap.py (260 lines) ‚≠ê NEW
  * Generate heatmaps for each class in multi-class images
  * Color-code GT boxes: green=query, yellow=other
  
- comprehensive_comparison.py (306 lines)
  * Generate mode comparisons for single query
  
- debug_gt_boxes.py (147 lines)
  * Visualize GT boxes with coordinate info

TEXT ENCODING
=============
All text queries use CLIP standard format:
  "an aerial photo of {class}"

Examples:
  "an aerial photo of overpass"
  "an aerial photo of vehicle"
  "an aerial photo of windmill"

STATISTICS
==========
Multi-class images found in mini_dataset:
- DIOR_03135: 2 classes (Expressway-toll-station, vehicle)
- DIOR_05386: 2 classes (overpass, vehicle)
- DIOR_09601: 2 classes (vehicle, tenniscourt)
- Single-class images: skipped

Git: 322caeab
Date: 2025-10-29
